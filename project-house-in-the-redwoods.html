<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>House in the Redwoods – Esther Mann</title>
  <link rel="stylesheet" href="css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div class="site">
    <header class="site-header">
      <div class="site-header-inner">
        <div class="site-title"><a href="index.html">ESTHER MANN</a></div>
        <nav class="nav">
          <a href="about.html">About</a>
          <a class="active" href="built-work.html">Built Work</a>
          <a href="pottery.html">Pottery</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>
      <div class="divider"></div>
    </header>

    <main class="project-page">

      <!-- Hero image -->
      <section class="project-hero-full">
        <img src="images/redwoods-01.jpg" alt="House in the Redwoods exterior">
      </section>

      <!-- Info band -->
      <section class="project-info-band">
        <div class="project-info-header">
          <h1 class="project-info-title">House in the Redwoods</h1>
          <span class="project-info-location">Mill Valley, California</span>
        </div>
        <div class="project-info-grid">
          <div class="project-info-meta">
            <p><strong>Built</strong> 1975</p>
            <p><strong>Size</strong> 4,100 square-feet</p>
            <p><strong>Renovation + Addition completed</strong> 2025</p>
            <p class="meta-spacer"></p>
            <p><strong>Architecture,</strong> Esther Mann</p>
            <p><strong>General Contractor,</strong> Scott + Warner Builders</p>
            <p><strong>Structural Engineer,</strong> GFDS Engineers</p>
            <p><strong>MEP Design,</strong> Monterey Design Group</p>
            <p><strong>Low-Voltage,</strong> Camber Intergration</p>
            <p class="meta-spacer"></p>
            <p><em>Photography by Mariko Reed</em></p>
          </div>
          <div class="project-info-description">
            <h2>Location and Renovation Overview</h2>
            <p>Situated on the southern slope of Mount Tamalpais in Northern California, the House in the Redwoods remained largely unchanged since the 1970s. Recently, the home underwent an extensive renovation to better accommodate the needs of modern family living. The property features several distinct structures, including a main residence, an accessory dwelling unit (ADU), and a detached garage. The renovation included the installation of new anodized aluminum windows and roofing, a comprehensive remodel of interior spaces and finishes, the addition of a radiant heating system, and significant electrical and structural improvements. A switchback trail was also carved into the mountainside, connecting the home directly to the extensive network of Mount Tam trails.</p>
          </div>
        </div>
      </section>

      <!-- Carousel -->
      <section class="carousel" aria-label="Project photos carousel">
        <div class="carousel-track" id="carouselTrack"></div>
        <div class="carousel-controls">
          <button class="carousel-button prev" type="button" aria-label="Previous image" id="prevBtn">‹</button>
          <button class="carousel-button next" type="button" aria-label="Next image" id="nextBtn">›</button>
        </div>
      </section>

      <!-- Updates for Family Life -->
      <section class="project-content-section">
        <div class="content-text-block">
          <h2>Updates for Family Life</h2>
          <p>To better accommodate the needs of a modern family, the interior layout was thoughtfully reorganized. The design brings together the family bedrooms, laundry area, and children's play space on a single floor, creating a cohesive and convenient living arrangement for daily routines. This strategic grouping enhances accessibility and fosters a sense of togetherness within the home.</p>
          <p>The formerly, over-sized formal dining room underwent a significant transformation as part of these updates. Instead of its original use, the space was reimagined as a spacious, high-ceilinged kitchen. The new kitchen now serves as the central hub of the house, both connecting and anchoring the surrounding living spaces.</p>
        </div>
      </section>

      <!-- Material Palette with image on left -->
      <section class="project-content-section project-content-section--with-image project-content-section--image-left">
        <div class="content-image-block">
          <img src="images/redwoods-09.jpg" alt="Interior detail showing material palette">
        </div>
        <div class="content-text-block">
          <h2>Material Palette</h2>
          <p>The choice of materials throughout the home focuses on durability and subtle elegance. Limestone, brushed nickel, and redwood are used for their longevity and detailed in a clean, contemporary manner, blending tradition with modern design sensibility. The inclusion of custom Sequoia millwork serves as a deliberate nod to the redwood trees of the neighboring Blithedale forest, strengthening the connection between the house and its natural environment.</p>
        </div>
      </section>

      <!-- Full width interior image -->
      <section class="project-full-image">
        <img src="images/redwoods-08.jpg" alt="Interior space">
      </section>

      <!-- Interior Character -->
      <section class="project-content-section project-content-section--with-image">
        <div class="content-text-block">
          <h2>Interior Character</h2>
          <p>Deliberate effort was made to retain some of the home's original, distinctive character and warmth. Notable features include a dramatically sloped cedar ceiling with unique grain and visual interest, as well as three antique fireplaces, each adding a touch of retro charm to the updated spaces. These preserved elements provide a sense of continuity and history, ensuring that the spirit of the house endures alongside its new, modern functionality.</p>
        </div>
        <div class="content-image-block">
          <img src="images/redwoods-13.jpg" alt="Interior character detail">
        </div>
      </section>

      <!-- Secondary Living Spaces -->
      <section class="project-content-section project-content-section--with-image">
        <div class="content-text-block">
          <h2>Secondary Living Spaces</h2>
          <p>Secondary living areas were thoughtfully reconfigured to support a range of activities and lifestyles. An unfinished workshop beneath the garage, once used for metalsmithing by a former owner, was transformed into a flexible live-work environment tailored to the needs of the current residents. This spacious area was divided into two separate spaces, with pocket doors allowing the rooms to be opened up or closed off as desired. This adaptable layout supports a variety of uses, including as a home office, artist's studio, gym, or even an additional bedroom.</p>
          <p>Additionally, what was once a crawl space below the main residence was converted into a compact apartment. The reimagined space now accommodates a fully equipped kitchen, eating nook, bedroom and bathroom. These updates maximize the functionality of the home by making the most of previously underutilized spaces, providing options for living, working, or hosting guests.</p>
        </div>
        <div class="content-image-block">
          <img src="images/redwoods-17.jpg" alt="Secondary living space">
        </div>
      </section>

      <!-- Full width forest trail image -->
      <section class="project-full-image">
        <img src="images/bw-woods.jpg" alt="Forest trail connecting to Mount Tam">
      </section>

      <!-- Construction Carousel -->
      <section class="carousel" aria-label="Construction photos carousel">
        <div class="carousel-track" id="constructionCarouselTrack"></div>
        <div class="carousel-controls">
          <button class="carousel-button prev" type="button" aria-label="Previous image" id="constructionPrevBtn">‹</button>
          <button class="carousel-button next" type="button" aria-label="Next image" id="constructionNextBtn">›</button>
        </div>
      </section>

    </main>

    <footer class="site-footer">
      <div class="site-footer-inner">
        <div class="footer-left">
          <span>@ESTHERMANN 2025</span>
          <span>
            Instagram:
            <a href="https://instagram.com/mannpottery" target="_blank" rel="noopener">@mannpottery</a>
          </span>
        </div>
        <nav class="footer-nav">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </nav>
        <div class="footer-pot"></div>
      </div>
    </footer>
  </div>

  <!-- Lightbox Modal -->
  <div class="lightbox" id="lightbox">
    <button class="lightbox-close" aria-label="Close">&times;</button>
    <button class="lightbox-nav lightbox-nav--prev" id="lightboxPrev" aria-label="Previous image">&#8249;</button>
    <img class="lightbox-image" id="lightboxImage" src="" alt="">
    <button class="lightbox-nav lightbox-nav--next" id="lightboxNext" aria-label="Next image">&#8250;</button>
  </div>

<script>
  (function () {
    const track = document.getElementById('carouselTrack');
    const prev = document.getElementById('prevBtn');
    const next = document.getElementById('nextBtn');

    // Carousel images - from redwoods-carousel folder
    const carouselImages = [
      'images/redwoods-carousel-01.jpg',
      'images/redwoods-carousel-02.jpg',
      'images/redwoods-carousel-03.jpg',
      'images/redwoods-carousel-04.jpg',
      'images/redwoods-carousel-05.jpg',
      'images/redwoods-carousel-06.jpg',
      'images/redwoods-carousel-07.jpg',
      'images/redwoods-carousel-08.jpg',
      'images/redwoods-carousel-09.jpg',
      'images/redwoods-carousel-10.jpg',
      'images/redwoods-carousel-11.jpg',
      'images/redwoods-carousel-12.jpg',
      'images/redwoods-carousel-13.jpg',
      'images/redwoods-carousel-14.jpg',
      'images/redwoods-carousel-15.jpg',
      'images/redwoods-carousel-16.jpg',
      'images/redwoods-carousel-17.jpg',
      'images/redwoods-carousel-18.jpg'
    ];

    carouselImages.forEach((src, i) => {
      const slide = document.createElement('div');
      slide.className = 'carousel-slide';

      const img = document.createElement('img');
      img.src = src;
      img.alt = `House in the Redwoods interior ${i + 1}`;
      img.loading = 'lazy';

      slide.appendChild(img);
      track.appendChild(slide);
    });

    // Start at redwoods-carousel-02.jpg (index 1)
    requestAnimationFrame(() => {
      const slides = track.querySelectorAll('.carousel-slide');
      if (slides[1]) {
        track.scrollLeft = slides[1].offsetLeft - (track.offsetWidth / 2) + (slides[1].offsetWidth / 2);
      }
    });

    function getSlides() {
      return Array.from(track.querySelectorAll('.carousel-slide'));
    }

    function getCurrentIndex() {
      const slides = getSlides();
      if (!slides.length) return 0;

      const trackRect = track.getBoundingClientRect();
      const viewportCenter = trackRect.left + trackRect.width / 2;

      let bestIndex = 0;
      let bestDist = Infinity;

      slides.forEach((slide, idx) => {
        const r = slide.getBoundingClientRect();
        const center = r.left + r.width / 2;
        const dist = Math.abs(center - viewportCenter);
        if (dist < bestDist) {
          bestDist = dist;
          bestIndex = idx;
        }
      });

      return bestIndex;
    }

    function goToIndex(idx) {
      const slides = getSlides();
      if (!slides.length) return;

      const clamped = Math.max(0, Math.min(idx, slides.length - 1));
      slides[clamped].scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }

    prev.addEventListener('click', () => goToIndex(getCurrentIndex() - 1));
    next.addEventListener('click', () => goToIndex(getCurrentIndex() + 1));

    // Construction Carousel
    const constructionTrack = document.getElementById('constructionCarouselTrack');
    const constructionPrev = document.getElementById('constructionPrevBtn');
    const constructionNext = document.getElementById('constructionNextBtn');

    // Construction images - sorted numerically
    const constructionImages = [
      1,2,3,4,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,
      31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50,51,52,53,54,55,56,57,58,59,
      60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,
      90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,120,121,122,125
    ].map(n => `images/redwoods-construction-${n}.jpg`);

    constructionImages.forEach((src, i) => {
      const slide = document.createElement('div');
      slide.className = 'carousel-slide';

      const img = document.createElement('img');
      img.src = src;
      img.alt = `Construction photo ${i + 1}`;
      img.loading = 'lazy';

      slide.appendChild(img);
      constructionTrack.appendChild(slide);
    });

    function getConstructionSlides() {
      return Array.from(constructionTrack.querySelectorAll('.carousel-slide'));
    }

    function getConstructionCurrentIndex() {
      const slides = getConstructionSlides();
      if (!slides.length) return 0;

      const trackRect = constructionTrack.getBoundingClientRect();
      const viewportCenter = trackRect.left + trackRect.width / 2;

      let bestIndex = 0;
      let bestDist = Infinity;

      slides.forEach((slide, idx) => {
        const r = slide.getBoundingClientRect();
        const center = r.left + r.width / 2;
        const dist = Math.abs(center - viewportCenter);
        if (dist < bestDist) {
          bestDist = dist;
          bestIndex = idx;
        }
      });

      return bestIndex;
    }

    function goToConstructionIndex(idx) {
      const slides = getConstructionSlides();
      if (!slides.length) return;

      const clamped = Math.max(0, Math.min(idx, slides.length - 1));
      slides[clamped].scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }

    constructionPrev.addEventListener('click', () => goToConstructionIndex(getConstructionCurrentIndex() - 1));
    constructionNext.addEventListener('click', () => goToConstructionIndex(getConstructionCurrentIndex() + 1));

    // Add lightbox support for construction carousel
    constructionTrack.addEventListener('click', (e) => {
      const slide = e.target.closest('.carousel-slide');
      if (!slide) return;

      const img = slide.querySelector('img');
      if (!img) return;

      const filename = img.src.split('/').pop();
      currentLightboxIndex = constructionImages.findIndex(src => src.includes(filename));
      if (currentLightboxIndex === -1) currentLightboxIndex = 0;

      // Use construction images for lightbox navigation
      currentLightboxImages = constructionImages;

      lightboxImage.src = constructionImages[currentLightboxIndex];
      lightboxImage.alt = img.alt;
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // Lightbox functionality
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');
    const lightboxClose = document.querySelector('.lightbox-close');
    const lightboxPrev = document.getElementById('lightboxPrev');
    const lightboxNext = document.getElementById('lightboxNext');

    let currentLightboxIndex = 0;
    let currentLightboxImages = carouselImages;

    function showLightboxImage(index) {
      currentLightboxIndex = ((index % currentLightboxImages.length) + currentLightboxImages.length) % currentLightboxImages.length;
      lightboxImage.src = currentLightboxImages[currentLightboxIndex];
    }

    // Click on carousel slides to open lightbox
    track.addEventListener('click', (e) => {
      const slide = e.target.closest('.carousel-slide');
      if (!slide) return;

      const img = slide.querySelector('img');
      if (!img) return;

      currentLightboxImages = carouselImages;
      currentLightboxIndex = carouselImages.indexOf(img.src.replace(window.location.origin + '/', ''));
      if (currentLightboxIndex === -1) {
        // Try matching just the filename
        const filename = img.src.split('/').pop();
        currentLightboxIndex = carouselImages.findIndex(src => src.includes(filename));
      }
      if (currentLightboxIndex === -1) currentLightboxIndex = 0;

      lightboxImage.src = carouselImages[currentLightboxIndex];
      lightboxImage.alt = img.alt;
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // Lightbox navigation
    lightboxPrev.addEventListener('click', (e) => {
      e.stopPropagation();
      showLightboxImage(currentLightboxIndex - 1);
    });

    lightboxNext.addEventListener('click', (e) => {
      e.stopPropagation();
      showLightboxImage(currentLightboxIndex + 1);
    });

    // Close lightbox
    function closeLightbox() {
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
    }

    lightboxClose.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) closeLightbox();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeLightbox();
      if (lightbox.classList.contains('active')) {
        if (e.key === 'ArrowLeft') showLightboxImage(currentLightboxIndex - 1);
        if (e.key === 'ArrowRight') showLightboxImage(currentLightboxIndex + 1);
      }
    });
  })();
</script>

</body>
</html>
